<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pratica</title>

  <link rel="stylesheet" href="bootstrap-5.1.0-dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="styles.css">

</head>

<body>

  <ul class="folders" data-bind="foreach: folders">
    <li data-bind="text: $data, 
    css: { selected: $data == $root.chosenFolderId()},
    click: $root.goToFolder"></li>
  </ul>

  <table class="mails" data-bind="width: chosenFolderData">
    <thead>
      <tr>
        <th>From</th>
        <th>To</th>
        <th>Subject</th>
        <th>Date</th>
      </tr>
    </thead>

    <tr>
      <td data-bind="text: from"></td>
      <td data-bind="text: to"></td>
      <td data-bind="text: subject"></td>
      <td data-bind="text: date"></td>
    </tr>

  </table>

</body>


<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.js" integrity="sha512-2AL/VEauKkZqQU9BHgnv48OhXcJPx9vdzxN1JrKDVc4FPU/MEE/BZ6d9l0mP7VmvLsjtYwqiYQpDskK9dG8KBA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
  function WebmailViewModel() {
    var self = this;
    self.folders = ['Inbox', 'Archive', 'Sent', 'Spam'];
    self.chosenFolderId = ko.observable();
    self.chosenFolderData = ko.observable();

    self.goToFolder = function (folder) {
      self.chosenFolderId(folder);
    }
    self.goToFolder = function (folder) {
      self.chosenFolderId(folder);
      $.get('/mail', { folder: folder }, self.chosenFolderData);
    }


  };

  ko.applyBindings(new WebmailViewModel());

</script>


</body>

</html>